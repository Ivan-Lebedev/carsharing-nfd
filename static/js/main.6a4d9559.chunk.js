(this["webpackJsonpcarsharing-nfd"]=this["webpackJsonpcarsharing-nfd"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},187:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(28),i=a.n(s),o=(a(152),a(16)),l=(a(153),a(154),function(){return Object(n.jsxs)("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M16.0802 8.36364C16.0802 14.0909 8.54011 19 8.54011 19C8.54011 19 1 14.0909 1 8.36364C1 6.41068 1.7944 4.53771 3.20845 3.15676C4.62249 1.77581 6.54035 1 8.54011 1C10.5399 1 12.4577 1.77581 13.8718 3.15676C15.2858 4.53771 16.0802 6.41068 16.0802 8.36364Z",stroke:"#999999",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M8.5401 10.8182C9.9282 10.8182 11.0535 9.71925 11.0535 8.36364C11.0535 7.00803 9.9282 5.90909 8.5401 5.90909C7.15201 5.90909 6.02673 7.00803 6.02673 8.36364C6.02673 9.71925 7.15201 10.8182 8.5401 10.8182Z",stroke:"#999999",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),d=a(17),u=function(){return Object(n.jsxs)("div",{className:"main-header",children:[Object(n.jsx)(d.b,{to:"/",className:"main-header__logo",children:"Need for drive"}),Object(n.jsxs)("div",{className:"main-header__location",children:[Object(n.jsx)(l,{}),Object(n.jsx)("div",{className:"location-city",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"})]})]})},j=(a(159),a(160),a.p+"static/media/buttonLoader.7e35d759.svg"),b=function(e){var t=e.type,a=void 0===t?"button":t,c=e.additionalStyles,r=e.children,s=e.history,i=e.to,o=e.onClick,l=e.disabled,d=e.isLoading,u=function(e){o&&o(e),s&&s.push(i)};return Object(n.jsx)("button",{type:a,className:"button ".concat(c),disabled:l,onClick:function(e){return u(e)},children:d?Object(n.jsx)("img",{className:"button__loader",src:j,alt:"loader"}):r})},m=Object(o.j)(b),h=function(){return Object(n.jsxs)("div",{className:"start-screen",children:[Object(n.jsx)(u,{}),Object(n.jsxs)("div",{className:"hero-block",children:[Object(n.jsxs)("h1",{className:"hero-block__title",children:["\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433 ",Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"title__app-name",children:"Need for drive"})]}),Object(n.jsx)("div",{className:"hero-block__subtitle",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(n.jsx)(m,{to:"/order",additionalStyles:"hero-block__btn",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(n.jsxs)("footer",{className:"start-screen__footer",children:[Object(n.jsx)("div",{className:"footer__copyright",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(n.jsx)("a",{href:"tel:84952342244",className:"footer__tel",children:"8 (495) 234-22-44"})]})]})},O=a(7),p=(a(161),function(){return Object(n.jsx)("svg",{width:"10",height:"20",viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M9 1L1 10L9 19",stroke:"#EEEEEE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v=function(){return Object(n.jsx)("svg",{width:"10",height:"20",viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M1 1L9 10L1 19",stroke:"#EEEEEE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},_=a.p+"static/media/Slider_1.99555a72.jpg",f=a.p+"static/media/Slider_2.8e2236fc.jpg",x=a.p+"static/media/Slider_3.dd5c268f.jpg",g=a.p+"static/media/Slider_4.2cc2a6fa.jpg",N=a(12),C=a.n(N),y=[{img:_,title:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",desc:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445",btn:"slider-item__btn btn1"},{img:f,title:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",desc:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",btn:"slider-item__btn btn2"},{img:x,title:"\u0411\u0435\u043d\u0437\u0438\u043d",desc:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",btn:"slider-item__btn btn3"},{img:g,title:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",desc:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",btn:"slider-item__btn btn4"}],k=function(){var e=Object(c.useState)(0),t=Object(O.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(y[a]),i=Object(O.a)(s,2),o=i[0],l=i[1];return Object(n.jsxs)("div",{className:"slider",children:[Object(n.jsx)("div",{className:"img-preload",children:y.forEach((function(e){(new Image).src=e.img}))}),Object(n.jsx)("button",{onClick:function(){var e=a-1>=0?a-1:y.length-1;r(e),l(y[e])},className:"control-button btn-left",children:Object(n.jsx)(p,{})}),Object(n.jsxs)("div",{className:"slider-wrapper",children:[Object(n.jsxs)("div",{className:"slider-item",style:{background:"linear-gradient(\n            180deg,\n            rgba(0, 0, 0, 0) 0%,\n            rgba(0, 0, 0, 0) 0.01%,\n            #000000 100%\n          ), url(".concat(o.img,") center/cover")},children:[Object(n.jsx)("h3",{className:"slider-item__header",children:o.title}),Object(n.jsx)("p",{className:"slider-item__desc",children:o.desc}),Object(n.jsx)(b,{additionalStyles:o.btn,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),Object(n.jsx)("div",{className:"radio",children:y.map((function(e,t){return Object(n.jsx)("button",{onClick:function(e){return function(e,t){r(t),l(y[t])}(0,t)},className:C()("radio__btn",{"radio__btn--active":t===a})},t)}))})]}),Object(n.jsx)("button",{onClick:function(){var e=a+1>y.length-1?0:a+1;r(e),l(y[e])},className:"control-button btn-right",children:Object(n.jsx)(v,{})})]})},w=(a(162),function(){return Object(n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16ZM10.7144 14.5343C9.11157 15.2341 7.46472 15.9532 5.95883 16.7826L5.95873 16.7828C5.17241 17.3585 6.21758 17.7657 7.19803 18.1476C7.35391 18.2084 7.50814 18.2685 7.65313 18.3285C7.77377 18.3656 7.89647 18.4047 8.02079 18.4443C9.11124 18.7917 10.3272 19.1791 11.3858 18.5963C13.1248 17.5973 14.766 16.4424 16.4059 15.2883C16.9432 14.9102 17.4803 14.5322 18.0207 14.1598C18.046 14.1436 18.0746 14.1251 18.1058 14.1048C18.5662 13.8064 19.6016 13.1353 19.2186 14.06C18.313 15.0504 17.3429 15.9272 16.3676 16.8087C15.7103 17.4027 15.0506 17.999 14.4066 18.6336C13.8457 19.0894 13.2633 20.0059 13.8914 20.644C15.3379 21.6567 16.8071 22.6449 18.2755 23.6325C18.7533 23.9538 19.231 24.2752 19.7079 24.5972C20.516 25.2425 21.779 24.7206 21.9567 23.7123C22.0357 23.2485 22.115 22.7847 22.1944 22.3208C22.6328 19.7578 23.0713 17.1938 23.4587 14.6223C23.5113 14.219 23.571 13.8156 23.6307 13.4121C23.7755 12.434 23.9204 11.4547 23.9656 10.4714C23.849 9.49009 22.6592 9.70585 21.997 9.9265C18.5935 11.2216 15.224 12.6126 11.8679 14.0282C11.4877 14.1967 11.1023 14.3649 10.7144 14.5343Z",fill:"white"})})}),S=function(){return Object(n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M32 16C32 7.1625 24.8375 0 16 0C7.1625 0 0 7.1625 0 16C0 23.9875 5.85 30.6062 13.5 31.8062V20.625H9.4375V16H13.5V12.475C13.5 8.46563 15.8875 6.25 19.5438 6.25C21.2938 6.25 23.125 6.5625 23.125 6.5625V10.5H21.1063C19.1188 10.5 18.5 11.7344 18.5 13V16H22.9375L22.2281 20.625H18.5V31.8062C26.15 30.6062 32 23.9875 32 16Z",fill:"white"})})},D=function(){return Object(n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.4822 7.51824C13.3924 7.47682 13.6833 7.46668 16.0008 7.46668H15.9981C18.3164 7.46668 18.6062 7.47682 19.5164 7.51824C20.4248 7.55984 21.0453 7.70366 21.5893 7.91469C22.1511 8.13247 22.6258 8.42403 23.1004 8.8987C23.5751 9.37301 23.8667 9.84911 24.0853 10.4104C24.2951 10.9529 24.4391 11.573 24.4818 12.4815C24.5227 13.3917 24.5333 13.6826 24.5333 16.0001C24.5333 18.3176 24.5227 18.6078 24.4818 19.518C24.4391 20.4261 24.2951 21.0464 24.0853 21.5891C23.8667 22.1502 23.5751 22.6263 23.1004 23.1006C22.6263 23.5753 22.1509 23.8676 21.5898 24.0855C21.0469 24.2965 20.4261 24.4404 19.5176 24.482C18.6074 24.5234 18.3174 24.5335 15.9997 24.5335C13.6824 24.5335 13.3917 24.5234 12.4815 24.482C11.5732 24.4404 10.9529 24.2965 10.41 24.0855C9.84909 23.8676 9.37299 23.5753 8.89886 23.1006C8.42436 22.6263 8.1328 22.1502 7.91467 21.589C7.70382 21.0464 7.56 20.4263 7.51822 19.5178C7.47697 18.6076 7.46666 18.3176 7.46666 16.0001C7.46666 13.6826 7.47733 13.3915 7.51804 12.4813C7.55893 11.5732 7.70293 10.9529 7.91449 10.4102C8.13316 9.84911 8.42472 9.37301 8.89939 8.8987C9.3737 8.4242 9.8498 8.13265 10.411 7.91469C10.9536 7.70366 11.5737 7.55984 12.4822 7.51824Z",fill:"white"}),Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2353 9.00445C15.3839 9.00422 15.5438 9.00429 15.7164 9.00437L16.0008 9.00445C18.2792 9.00445 18.5493 9.01263 19.449 9.05352C20.281 9.09156 20.7326 9.23059 21.0334 9.34739C21.4316 9.50206 21.7155 9.68695 22.014 9.98562C22.3127 10.2843 22.4976 10.5687 22.6526 10.967C22.7694 11.2674 22.9086 11.719 22.9465 12.551C22.9874 13.4505 22.9963 13.7208 22.9963 15.9981C22.9963 18.2755 22.9874 18.5457 22.9465 19.4453C22.9084 20.2773 22.7694 20.7288 22.6526 21.0293C22.4979 21.4275 22.3127 21.7111 22.014 22.0096C21.7153 22.3082 21.4318 22.4931 21.0334 22.6478C20.7329 22.7651 20.281 22.9038 19.449 22.9418C18.5494 22.9827 18.2792 22.9916 16.0008 22.9916C13.7222 22.9916 13.4522 22.9827 12.5526 22.9418C11.7206 22.9034 11.269 22.7644 10.968 22.6476C10.5698 22.4929 10.2854 22.3081 9.98669 22.0094C9.68802 21.7107 9.50313 21.427 9.34811 21.0286C9.23131 20.7281 9.09211 20.2766 9.05424 19.4446C9.01335 18.545 9.00517 18.2748 9.00517 15.996C9.00517 13.7172 9.01335 13.4484 9.05424 12.5488C9.09228 11.7168 9.23131 11.2653 9.34811 10.9645C9.50278 10.5662 9.68802 10.2818 9.98669 9.98313C10.2854 9.68446 10.5698 9.49957 10.968 9.34455C11.2688 9.22721 11.7206 9.08854 12.5526 9.05032C13.3398 9.01476 13.6449 9.0041 15.2353 9.00232V9.00445ZM20.5559 10.4213C19.9905 10.4213 19.5319 10.8795 19.5319 11.445C19.5319 12.0103 19.9905 12.469 20.5559 12.469C21.1212 12.469 21.5799 12.0103 21.5799 11.445C21.5799 10.8797 21.1212 10.421 20.5559 10.421V10.4213ZM11.6185 16.0001C11.6185 13.58 13.5806 11.6179 16.0006 11.6178C18.4207 11.6178 20.3824 13.58 20.3824 16.0001C20.3824 18.4202 18.4209 20.3815 16.0008 20.3815C13.5807 20.3815 11.6185 18.4202 11.6185 16.0001Z",fill:"white"}),Object(n.jsx)("path",{d:"M16.0008 13.1556C17.5717 13.1556 18.8453 14.4291 18.8453 16.0001C18.8453 17.571 17.5717 18.8446 16.0008 18.8446C14.4298 18.8446 13.1563 17.571 13.1563 16.0001C13.1563 14.4291 14.4298 13.1556 16.0008 13.1556Z",fill:"white"})]})},T=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),a=t[0],r=t[1],s=C()("burger-menu",{"burger-menu burger-menu--active":a}),i=C()("opened-menu",{"opened-menu opened-menu--active":a});return a?Object(n.jsxs)("div",{className:"side-bar",children:[Object(n.jsx)("button",{className:s,onClick:function(){return r(!1)},children:Object(n.jsx)("span",{className:"burger-menu__line"})}),Object(n.jsx)("button",{className:"lang",children:"Eng"}),Object(n.jsxs)("div",{className:i,children:[Object(n.jsxs)("div",{className:"opened-menu__items",children:[Object(n.jsxs)("ul",{className:"items-list",children:[Object(n.jsx)("li",{className:"items-list__item",children:"\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410"}),Object(n.jsx)("li",{className:"items-list__item",children:"\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410"}),Object(n.jsx)("li",{className:"items-list__item",children:"\u0411\u0415\u041d\u0417\u0418\u041d"}),Object(n.jsx)("li",{className:"items-list__item",children:"\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"})]}),Object(n.jsxs)("div",{className:"social-items",children:[Object(n.jsx)("a",{href:"https://telegram.org/",className:"social-items__link",children:Object(n.jsx)(w,{})}),Object(n.jsx)("a",{href:"https://ru-ru.facebook.com/",className:"social-items__link",children:Object(n.jsx)(S,{})}),Object(n.jsx)("a",{href:"https://www.instagram.com/",className:"social-items__link",children:Object(n.jsx)(D,{})})]})]}),Object(n.jsx)("div",{className:"opened-menu__substrate"})]})]}):Object(n.jsxs)("div",{className:"side-bar",children:[Object(n.jsx)("button",{className:s,onClick:function(){return r(!0)},children:Object(n.jsx)("span",{className:"burger-menu__line"})}),Object(n.jsx)("button",{className:"lang lang--hidden",children:"Eng"})]})},I=function(){return Object(n.jsxs)("div",{className:"main-page",children:[Object(n.jsx)(T,{}),Object(n.jsx)(h,{}),Object(n.jsx)(k,{})]})},E=(a(163),a(164),function(){return Object(n.jsx)("svg",{className:"steps__item-triangle",width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M0 0L6 4.03L0 8V0Z",fill:"#999999"})})}),F=["\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u041c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e"],P=function(e){var t=e.isFinished,a=e.step,c=e.setStep,r=e.stepDisabled,s=e.orderId,i=function(e){return C()("steps__item-name",{"steps__item-name--active":a===e+1})};return Object(n.jsx)("div",{className:"steps",children:Object(n.jsx)("div",{className:"steps__items",children:t?Object(n.jsxs)("span",{className:"steps__finished",children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ",s]}):F.map((function(e,t){return Object(n.jsxs)("div",{className:"steps__item",children:[Object(n.jsx)("button",{className:i(t),onClick:function(){return c(t+1)},disabled:r[t+1],children:e}),t!==F.length-1&&Object(n.jsx)(E,{})]},e)}))})})},A=(a(165),a(3)),L=a(58),M=(a(166),function(e){var t=e.admin,a=C()("lds-roller",{"lds-roller--admin":t});return Object(n.jsxs)("div",{className:a,children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}),R=a.p+"static/media/MapMarker.c961018a.svg",V=(a(167),["places"]),H={maxWidth:736,width:"100%",height:352,marginTop:16},q={disableDefaultUI:!0,zoomControl:!0},G={lat:54.2799058,lng:48.2452392},Z=10,z=function(e){var t=e.formik,a=e.points,r=e.cities,s=Object(L.d)({googleMapsApiKey:"AIzaSyCrF2ESCD9XTV0X2_4JOrAvPSIHq2NPJiI",libraries:V}).isLoaded,i=Object(c.useRef)(),o=Object(c.useCallback)((function(e){i.current=e}),[]),l=Object(c.useState)([]),d=Object(O.a)(l,2),u=d[0],j=d[1];Object(c.useEffect)((function(){var e=a.reduce((function(e,a){return t.values.locationCity===a.cityId.name&&e.push(a),e}),[]);j(e)}),[t.values.locationCity,a]),Object(c.useEffect)((function(){var e=r.find((function(e){return e.name===t.values.locationCity}));if(e&&i.current){var a=e.lat,n=e.lng;i.current.panTo({lat:a,lng:n}),i.current.setZoom(12)}}),[r,t.values.locationCity]),Object(c.useEffect)((function(){var e=u.find((function(e){return e.address===t.values.locationPoint}));if(e&&i.current){var a=e.lat,n=e.lng;i.current.panTo({lat:a,lng:n}),i.current.setZoom(14),G.lat=a,G.lng=n,Z=14}}),[u,t.values.locationPoint]);var b=Object(c.useState)(null),m=Object(O.a)(b,2),h=m[0],p=m[1];return s?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(L.a,{id:"map",mapContainerStyle:H,zoom:Z,center:G,options:q,onLoad:o,children:[u.map((function(e){return Object(n.jsx)(L.c,{position:{lat:e.lat,lng:e.lng},icon:{url:R,origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(10,10),scaledSize:new window.google.maps.Size(20,20)},onClick:function(){return function(e){t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{locationPoint:e.address})),p(e)}(e)}},e.id)})),h&&Object(n.jsx)(L.b,{position:{lat:h.lat,lng:h.lng},onCloseClick:function(){return p(null)},children:Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:h.name})})})]})}):Object(n.jsx)(M,{})},B=a(9),W=a(6),U=a.n(W),J=a(8),K=a(138),X=function(e){return{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}},Y=function(e){return{headers:{Authorization:"Bearer ".concat(e)}}},$="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/",Q=a.n(K).a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer 4cbcea96de"}}),ee={getCity:function(){return Q.get("db/city/")},getPoint:function(){return Q.get("db/point/")},getCar:function(){return Q.get("db/car/")},getCarById:function(e){return Q.get("db/car/".concat(e))},getCategory:function(e){return e||(e=""),Q.get("db/category/".concat(e))},postOrder:function(e){return Q.post("db/order/",e)},getOrder:function(e){return Q.get("db/order/".concat(e))},getOrderStatuses:function(){return Q.get("db/orderStatus/")},postLogIn:function(e,t){return Q.post("auth/login",e,function(e){return{headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(e)}}}(t))},getCarsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2?arguments[2]:void 0,n=a.model,c=a.type,r="db/car?page=".concat(e,"&limit=").concat(t);return n&&(r+="&name[$regex]=.*".concat(n,".*")),c&&(r+="&categoryId=".concat(c)),Q.get(r)},getAdminOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,c="db/order?page=".concat(e,"&limit=").concat(t),r=n.period,s=n.model,i=n.city,o=n.status;if(r){var l="&createdAt[$gt]=",d=new Date;switch(r){case"year":l+=d.setFullYear(d.getFullYear()-1);break;case"month":l+=d.setMonth(d.getMonth()-1);break;case"week":l+=d.setDate(d.getDate()-7);break;case"day":l+=d.setDate(d.getDate()-1);break;default:l=""}c+=l}return s&&(c+="&carId=".concat(s)),i&&(c+="&cityId=".concat(i)),o&&(c+="&orderStatusId=".concat(o)),Q.get(c,Y(a))},putNewOrderData:function(e,t,a){return Q.put("db/order/".concat(a),e,X(t))},deleteOrderData:function(e,t){return Q.delete("db/order/".concat(t),X(e))},postNewCar:function(e,t){return Q.post("db/car/",e,X(t))},putNewCarData:function(e,t,a){return Q.put("db/car/".concat(a),e,X(t))},deleteCarData:function(e,t){return Q.delete("db/car/".concat(t),X(e))},putNewCategoryData:function(e,t,a){return Q.put("db/category/".concat(a),e,X(t))},deleteCategoryData:function(e,t){return Q.delete("db/category/".concat(t),X(e))},postNewCategory:function(e,t){return Q.post("db/category/",e,X(t))}},te=a(77),ae=a.n(te),ne="ADD_CITIES",ce="ADD_POINTS",re="ADD_CARS",se="IS_CARS_FETCHING",ie="ADD_ORDER_ID",oe="ADD_FINISHED_ORDER_DATA";ae.a.setApiKey("AIzaSyCrF2ESCD9XTV0X2_4JOrAvPSIHq2NPJiI");var le={cities:[],points:[],cars:[],isCarsFetching:!0,orderId:null,finishedOrderData:null,isAuthInProgress:!1,isAuthFailed:!1},de=function(e){return{type:ne,payload:e}},ue=function(e){return{type:ce,payload:e}},je=function(e){return{type:se,payload:e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(A.a)(Object(A.a)({},e),{},{cities:t.payload});case ce:return Object(A.a)(Object(A.a)({},e),{},{points:t.payload});case re:return Object(A.a)(Object(A.a)({},e),{},{cars:t.payload});case se:return Object(A.a)(Object(A.a)({},e),{},{isCarsFetching:t.payload});case ie:return Object(A.a)(Object(A.a)({},e),{},{orderId:t.payload});case oe:return Object(A.a)(Object(A.a)({},e),{},{finishedOrderData:t.payload});default:return e}},me=function(e){var t=[];return e.order.cities.map((function(e){return t.push(e.name)})),t},he=function(e){return e.order.cities},Oe=function(e){return e.order.points},pe=function(e){return e.order.cars},ve=function(e){return e.order.isCarsFetching},_e=function(e){return e.order.orderId},fe=function(e){return e.order.finishedOrderData},xe=(a(187),function(){return Object(n.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M8 0.805714L7.19429 0L4 3.19429L0.805714 0L0 0.805714L3.19429 4L0 7.19429L0.805714 8L4 4.80571L7.19429 8L8 7.19429L4.80571 4L8 0.805714Z",fill:"#121212"})})}),ge=a(99),Ne=a.n(ge),Ce=(a(188),function(e){var t=e.name,a=e.direction,c=e.items,r=e.onChange,s=C()("input",{"input--column":"column"===a});return Object(n.jsx)("div",{className:s,children:c.map((function(e){return Object(n.jsxs)("div",{className:"input__radio-item",children:[Object(n.jsx)("input",{className:"radio-item__input",type:"radio",name:t,id:e.value,checked:e.checked,value:e.value,onChange:r}),Object(n.jsx)("label",{className:"radio-item__label",htmlFor:e.value,children:e.label?e.label:e.value})]},e.value)}))})}),ye=function(e){var t=e.direction,a=e.items,c=e.onChange,r=C()("input",{"input--column":"column"===t});return Object(n.jsx)("div",{className:r,children:a.map((function(e){return Object(n.jsxs)("div",{className:"input__checkbox-item",children:[Object(n.jsx)("input",{className:"checkbox-item__input",type:"checkbox",name:e.value,id:e.value,checked:e.checked,value:e.value,onChange:c}),Object(n.jsx)("label",{className:"checkbox-item__label",htmlFor:e.value,children:e.label?e.label:e.value})]},e.value)}))})},ke=function(e){var t=e.formik,a=C()("text__input-cancel",{"text__input-cancel--hidden":0===t.values.dateFrom.length}),c=new Date;return Object(n.jsx)("div",{className:"text",children:Object(n.jsxs)("div",{className:"text__input",children:[Object(n.jsx)("div",{className:"text__input-type",children:"\u0421"}),Object(n.jsx)(Ne.a,{selectsStart:!0,selected:t.values.dateFrom,onChange:function(e){return function(e){return t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{dateFrom:e}))}(e)},startDate:t.values.dateFrom,endDate:t.values.dateTo,maxDate:t.values.dateTo,className:"text__input-value",placeholderText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy HH:mm",minDate:c}),Object(n.jsx)("button",{className:a,onClick:function(){return t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{dateFrom:""}))},children:Object(n.jsx)(xe,{})})]})})},we=function(e){var t=e.formik,a=C()("text__input-cancel",{"text__input-cancel--hidden":0===t.values.dateTo.length});return Object(n.jsx)("div",{className:"text",children:Object(n.jsxs)("div",{className:"text__input",children:[Object(n.jsx)("div",{className:"text__input-type",children:"\u041f\u043e"}),Object(n.jsx)(Ne.a,{selectsEnd:!0,selected:t.values.dateTo,onChange:function(e){return function(e){return t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{dateTo:e}))}(e)},startDate:t.values.dateFrom,endDate:t.values.dateTo,minDate:t.values.dateFrom,className:"text__input-value",placeholderText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:60,dateFormat:"dd.MM.yyyy HH:mm"}),Object(n.jsx)("button",{className:a,onClick:function(){return t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{dateTo:""}))},children:Object(n.jsx)(xe,{})})]})})},Se=function(e){var t=e.item,a=e.onChange,c=e.formik,r=C()("text__input-cancel",{"text__input-cancel--hidden":0===t.value.length});return Object(n.jsx)("div",{className:"text",children:Object(n.jsxs)("label",{className:"text__input",children:[Object(n.jsx)("div",{className:"text__input-type",children:t.label}),Object(n.jsx)("input",{maxLength:"20",type:"text",id:t.name,name:t.name,className:"text__input-value",value:t.value,onChange:a,placeholder:t.placeholder,list:t.placeholder,autoComplete:"off"}),t.options&&t.value.length>1&&Object(n.jsx)("datalist",{id:t.placeholder,children:t.options.map((function(e,t){return Object(n.jsx)("option",{children:e},t)}))}),Object(n.jsx)("button",{className:r,onClick:function(){return c.setValues(Object(A.a)(Object(A.a)({},c.values),{},{locationCity:""}))},children:Object(n.jsx)(xe,{})})]},t.label)})},De=function(e){var t=e.item,a=e.onChange,c=e.formik,r=C()("text__input-cancel",{"text__input-cancel--hidden":0===t.value.length});return Object(n.jsx)("div",{className:"text",children:Object(n.jsxs)("label",{className:"text__input",children:[Object(n.jsx)("div",{className:"text__input-type",children:t.label}),Object(n.jsx)("input",{maxLength:"20",type:"text",id:t.name,name:t.name,className:"text__input-value",value:t.value,onChange:a,placeholder:t.placeholder,list:t.placeholder,autoComplete:"off"}),t.options&&Object(n.jsx)("datalist",{id:t.placeholder,children:t.options.length?t.options.map((function(e,t){return Object(n.jsx)("option",{children:e},t)})):Object(n.jsx)("option",{children:"\u0412 \u0433\u043e\u0440\u043e\u0434\u0435 \u043d\u0435\u0442 \u0442\u043e\u0447\u0435\u043a"})}),Object(n.jsx)("button",{className:r,onClick:function(){return c.setValues(Object(A.a)(Object(A.a)({},c.values),{},{locationPoint:""}))},children:Object(n.jsx)(xe,{})})]},t.label)})},Te=Object(B.b)((function(e){return{listOfCities:me(e),points:Oe(e),cities:he(e)}}),{requestCities:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a,n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.getCity();case 3:a=e.sent,n=a.data.data,c=function(){var e=Object(J.a)(U.a.mark((function e(t){var a,n,c,r,s,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.name,e.next=4,ae.a.fromAddress(a);case 4:return n=e.sent,c=n.results[0].geometry.location,r=c.lat,s=c.lng,(i=t).lat=r,i.lng=s,e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.map((function(e){return c(e)})),t(de(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},requestPoints:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a,n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.getPoint();case 3:a=e.sent,n=a.data.data,c=function(){var e=Object(J.a)(U.a.mark((function e(t){var a,n,c,r,s,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(t.address,", ").concat(t.cityId.name),e.next=4,ae.a.fromAddress(a);case 4:return n=e.sent,c=n.results[0].geometry.location,r=c.lat,s=c.lng,(i=t).lat=r,i.lng=s,e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.map((function(e){return c(e)})),t(ue(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.formik,a=e.listOfCities,r=e.points,s=e.cities,i=e.requestCities,o=e.requestPoints;Object(c.useEffect)((function(){0===r.length&&(i(),o())}),[r,i,o]);var l=r.reduce((function(e,a){return t.values.locationCity===a.cityId.name&&e.push(a.address),e}),[]);return Object(n.jsxs)("div",{className:"location",children:[Object(n.jsx)(Se,{item:{name:"locationCity",label:"\u0413\u043e\u0440\u043e\u0434",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434...",value:t.values.locationCity,options:a},onChange:t.handleChange,formik:t}),Object(n.jsx)(De,{item:{name:"locationPoint",label:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442...",value:t.values.locationPoint,options:l},onChange:t.handleChange,formik:t}),Object(n.jsxs)("div",{className:"location__map",children:[Object(n.jsx)("div",{className:"location__map-header",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(n.jsx)("div",{className:"location__map-img",children:Object(n.jsx)(z,{formik:t,points:r,cities:s})})]})]})})),Ie=(a(246),Object(B.b)((function(e){return{listOfCars:pe(e),isCarsFetching:ve(e)}}),{requestCars:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(je(!0)),e.next=4,ee.getCar();case 4:a=e.sent,t(je(!1)),t((n=a.data.data,{type:re,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.formik,a=e.listOfCars,r=e.requestCars,s=e.isCarsFetching,i=Object(c.useState)(a),o=Object(O.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){return r()}),[r]),Object(c.useEffect)((function(){"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"===t.values.modelFilter?d(a):d(a.filter((function(e){return e.categoryId.name===t.values.modelFilter})))}),[a,t.values.modelFilter]);var u=function(e){return e.thumbnail.path.includes("base64")?e.thumbnail.path:"".concat($).concat(e.thumbnail.path)},j=[{value:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",checked:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"===t.values.modelFilter},{value:"\u042d\u043a\u043e\u043d\u043e\u043c",checked:"\u042d\u043a\u043e\u043d\u043e\u043c"===t.values.modelFilter},{value:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c",checked:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c"===t.values.modelFilter}];return Object(n.jsx)("div",{className:"model",children:s?Object(n.jsx)(M,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ce,{onChange:t.handleChange,name:"modelFilter",items:j}),Object(n.jsx)("div",{className:"catalog",children:l.map((function(e){return Object(n.jsxs)("div",{className:(a=e.name,C()("catalog__car",{"catalog__car--active":a===t.values.model})),onClick:function(){return function(e){t.setValues(Object(A.a)(Object(A.a)({},t.values),{},{model:e.name}))}(e)},children:[Object(n.jsxs)("div",{className:"catalog__car-title",children:[Object(n.jsx)("div",{className:"catalog__car-name",children:e.name}),Object(n.jsx)("div",{className:"catalog__car-price",children:"".concat(e.priceMin," - ").concat(e.priceMax," \u20bd")})]}),Object(n.jsx)("img",{className:"catalog__car-img",src:u(e),crossOrigin:"anonymous",referrerPolicy:"origin",alt:"car-img"})]},e.id);var a}))})]})})}))),Ee=a(11),Fe=(a(247),function(e){var t,a,n,c,r,s;return(null===(t=e.carId)||void 0===t||null===(a=t.thumbnail)||void 0===a?void 0:a.path.includes("base64"))?null===(n=e.carId)||void 0===n||null===(c=n.thumbnail)||void 0===c?void 0:c.path:"".concat($).concat(null===(r=e.carId)||void 0===r||null===(s=r.thumbnail)||void 0===s?void 0:s.path)}),Pe=function(e){return e<10?"0".concat(e):e},Ae=function(e){var t=new Date(e);return"".concat(Pe(t.getDate()),".").concat(Pe(t.getMonth()+1),".").concat(t.getFullYear()," ").concat(Pe(t.getHours()),":00")},Le=function(e){return e.map((function(e){return{key:e.name,value:e.id}}))},Me=function(e){var t;return e.path?(null===(t=e.path)||void 0===t?void 0:t.includes("base64"))?e.path:"".concat($).concat(e.path):e},Re=function(e){return e.map((function(e){return{key:e.charAt(0).toUpperCase()+e.slice(1),value:e}}))},Ve=Object(B.b)((function(e){return{cars:pe(e)}}))((function(e){var t=e.formik,a=e.cars.find((function(e){return e.name===t.values.model})),c=["\u043b\u044e\u0431\u043e\u0439"].concat(Object(Ee.a)(a.colors)),r=function(e,t){return t.map((function(t){return{label:t.charAt(0).toUpperCase()+t.slice(1),value:t,checked:e.values.color===t}}))}(t,c),s=[{label:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u043e, ".concat(Math.ceil(1.5*a.priceMin/1440)," \u20bd/\u043c\u0438\u043d"),value:"minute",checked:"minute"===t.values.rate},{label:"\u041d\u0430 \u0441\u0443\u0442\u043a\u0438, ".concat(Math.ceil(a.priceMin)," \u20bd/\u0441\u0443\u0442\u043a\u0438"),value:"day",checked:"day"===t.values.rate}],i=[{label:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500\u0440",value:"isFullTank",checked:!0===t.values.isFullTank},{label:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200\u0440",value:"isNeedChildChair",checked:!0===t.values.isNeedChildChair},{label:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600\u0440",value:"isRightWheel",checked:!0===t.values.isRightWheel}];return Object(n.jsxs)("div",{className:"addition",children:[Object(n.jsxs)("div",{className:"addition__option",children:[Object(n.jsx)("div",{className:"addition__title",children:"\u0426\u0432\u0435\u0442"}),Object(n.jsx)(Ce,{name:"color",items:r,onChange:t.handleChange})]}),Object(n.jsxs)("div",{className:"addition__option",children:[Object(n.jsx)("div",{className:"addition__title",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(n.jsx)(ke,{formik:t}),Object(n.jsx)(we,{formik:t})]}),Object(n.jsxs)("div",{className:"addition__option",children:[Object(n.jsx)("div",{className:"addition__title",children:"\u0422\u0430\u0440\u0438\u0444"}),Object(n.jsx)(Ce,{name:"rate",direction:"column",items:s,onChange:t.handleChange})]}),Object(n.jsxs)("div",{className:"addition__option",children:[Object(n.jsx)("div",{className:"addition__title",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(n.jsx)(ye,{direction:"column",items:i,onChange:t.handleChange})]})]})})),He=(a(248),function(e){var t=e.carName,a=e.carNumber,c=e.carFuel,r=e.dateFrom,s=e.carImg;return Object(n.jsxs)("div",{className:"total",children:[Object(n.jsxs)("div",{className:"total__info",children:[Object(n.jsx)("p",{className:"total__model",children:t}),Object(n.jsx)("p",{className:"total__number",children:a}),Object(n.jsxs)("p",{className:"total__fuel",children:["\u0422\u043e\u043f\u043b\u0438\u0432\u043e ",Object(n.jsx)("span",{className:"total__fuel-count",children:c})]}),Object(n.jsxs)("p",{className:"total__access",children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441 ",Object(n.jsx)("span",{className:"total__access-date",children:r})]})]}),Object(n.jsx)("img",{crossOrigin:"anonymous",referrerPolicy:"origin",src:s,className:"total__car-img",alt:"total__car"})]})}),qe=Object(B.b)((function(e){return{cars:pe(e)}}))((function(e){var t,a,c,r,s,i=e.orderData,o=e.formData,l=e.cars,d=function(e){var t,a,n;return(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.path.includes("base64"))?null===e||void 0===e||null===(a=e.thumbnail)||void 0===a?void 0:a.path:"".concat($).concat(null===e||void 0===e||null===(n=e.thumbnail)||void 0===n?void 0:n.path)};if(i){t=i.carId.name,a=i.carId.number||"K 761 HA 73",c="".concat(i.carId.tank,"  %"),r=new Date(i.dateFrom).toLocaleDateString(),s=d(i.carId)}else{var u=l.find((function(e){return(null===e||void 0===e?void 0:e.name)===(null===o||void 0===o?void 0:o.model)}));t=null===u||void 0===u?void 0:u.name,a=(null===u||void 0===u?void 0:u.number)||"K 761 HA 73",c=(null===o||void 0===o?void 0:o.isFullTank)?"100%":"".concat((null===u||void 0===u?void 0:u.tank)||"50"," %");var j=new Date(null===o||void 0===o?void 0:o.dateFrom);r=null===j||void 0===j?void 0:j.toLocaleDateString(),s=d(u)}return Object(n.jsx)(He,{carName:t,carNumber:a,carFuel:c,dateFrom:r,carImg:s})})),Ge=a(30),Ze=(a(249),a(31)),ze=Object(Ze.d)(Object(B.b)((function(e){return{points:Oe(e),cars:pe(e),cities:he(e),orderId:_e(e)}}),{submitOrder:function(e,t,a,n,c,r,s,i,o,l,d,u){return function(){var j=Object(J.a)(U.a.mark((function j(b){var m,h;return U.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,m={orderStatusId:{name:"new",id:"5e26a191099b810b946c5d89"},cityId:{id:e},pointId:{id:t},carId:{id:a},color:n,dateFrom:c,dateTo:r,rateId:{id:s},price:i,isFullTank:o,isNeedChildChair:l,isRightWheel:d},j.next=4,ee.postOrder(m);case 4:h=j.sent,b((O=h.data.data.id,{type:ie,payload:O})),u(!1),j.next=12;break;case 9:j.prev=9,j.t0=j.catch(0),console.log(j.t0);case 12:case"end":return j.stop()}var O}),j,null,[[0,9]])})));return function(e){return j.apply(this,arguments)}}()}}),o.j)((function(e){var t=e.isFinished,a=e.step,r=e.setStep,s=e.stepDisabled,i=e.setStepDisabled,o=e.formData,l=e.cities,d=e.points,u=e.cars,j=e.submitOrder,h=e.orderId,p=e.history,v=Object(c.useState)(!1),_=Object(O.a)(v,2),f=_[0],x=_[1],g=C()("button status__price-btn",{"button--cancel":!0===t});Object(c.useEffect)((function(){h&&p.push("/order/finished/".concat(h))}),[p,h]);var N=Math.abs(o.dateTo-o.dateFrom),y=o.dateTo&&""!==o.dateFrom?Math.ceil(N/6e4):0,k=o.dateTo&&""!==o.dateFrom?Math.ceil(N/36e5):0,w=""!==o.dateTo&&""!==o.dateFrom?Math.ceil(N/864e5):0,S=u.find((function(e){return e.name===o.model})),D=function(){var e=0;if(""!==o.model)if(0===y){var t="minute"===o.rate?2*S.priceMin:S.priceMin,a=S.priceMax;o.isFullTank&&(t+=500),o.isNeedChildChair&&(t+=200),o.isRightWheel&&(t+=1600),e="".concat(t," - ").concat(a)}else e=Math.round("minute"===o.rate?S.priceMin/1440*y*1.5:S.priceMin*w),o.isFullTank&&(e+=500),o.isNeedChildChair&&(e+=200),o.isRightWheel&&(e+=1600);return"".concat(e," \u20bd")},T=function(){var e=o.color,t=o.isFullTank,a=o.isNeedChildChair,n=o.isRightWheel,c=l.find((function(e){return e.name===o.locationCity})).id,r=d.find((function(e){return e.address===o.locationPoint})).id,s=S.id,i=o.dateFrom.getTime(),u=o.dateTo.getTime(),b="day"===o.rate?"5e26a0e2099b810b946c5d86":"5e26a0d2099b810b946c5d85",m=D();j(c,r,s,e,i,u,b,m,t,a,n,x)};return Object(n.jsxs)("div",{className:"status",children:[f&&Object(n.jsxs)("div",{className:"modal",children:[Object(n.jsx)("div",{className:"modal__overlay"}),Object(n.jsxs)("div",{className:"modal__container",children:[Object(n.jsx)("div",{className:"modal__title",children:t?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(n.jsxs)("div",{className:"modal__buttons",children:[Object(n.jsx)(m,{to:!!t&&"/order",onClick:function(){t?(r(1),x(!1)):T()},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(n.jsx)(b,{onClick:function(){return x(!1)},additionalStyles:"button--cancel",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})]})]}),Object(n.jsx)("div",{className:"status__header",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}),""!==o.locationPoint&&""!==o.locationCity&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsxs)("div",{className:"status__item-value",children:[o.locationCity,", ",o.locationPoint]})]}),""!==o.model&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:o.model})]}),!s[3]&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u0426\u0432\u0435\u0442"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:o.color})]}),!s[3]&&o.dateFrom&&o.dateTo&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:"".concat(Math.floor(k/24),"\u0434 ").concat(k%24,"\u0447")})]}),!s[3]&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u0422\u0430\u0440\u0438\u0444"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:"day"===o.rate?"\u041d\u0430 \u0441\u0443\u0442\u043a\u0438":"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u043e"})]}),!s[3]&&o.isFullTank&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:"\u0414\u0430"})]}),!s[3]&&o.isNeedChildChair&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:"\u0414\u0430"})]}),!s[3]&&o.isRightWheel&&Object(n.jsxs)("div",{className:"status__item",children:[Object(n.jsx)("div",{className:"status__item-title",children:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"}),Object(n.jsx)("div",{className:"status__item-dash"}),Object(n.jsx)("div",{className:"status__item-value",children:"\u0414\u0430"})]}),Object(n.jsxs)("div",{className:"status__price",children:[Object(n.jsx)("span",{className:"status__price-header",children:"\u0426\u0435\u043d\u0430: "}),Object(n.jsx)("span",{className:"status__price-digits",children:D()})]}),Object(n.jsx)(b,{additionalStyles:g,onClick:function(){if(4===a||t)x(!f);else{var e=a+1;i(Object(A.a)(Object(A.a)({},s),{},Object(Ge.a)({},e,!1))),r(e)}},disabled:!t&&(!d.find((function(e){return e.address===o.locationPoint}))||2===a&&""===o.model||3===a&&0===w),children:function(){switch(a){case 1:return"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c";case 2:return"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e";case 3:return"\u0418\u0442\u043e\u0433\u043e";case 4:return t?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c";default:return"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"}}()})]})})),Be=(a(250),Object(Ze.d)(Object(B.b)((function(e){return{orderData:fe(e)}}),{requestOrder:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.getOrder(e);case 3:n=t.sent,a((c=n.data.data,{type:oe,payload:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}),o.j)((function(e){var t=e.orderData,a=e.requestOrder,r=Object(o.i)().orderId;return Object(c.useEffect)((function(){a(r)}),[r,a]),Object(n.jsxs)("div",{className:"finished",children:[Object(n.jsx)("div",{className:"finished__title",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d"}),Object(n.jsx)(qe,{orderData:t})]})}))),We=a(20),Ue=Object(B.b)((function(e){return{orderId:_e(e)}}),{})((function(e){var t=e.isFinished,a=e.orderId,r=Object(c.useState)({1:!1,2:!0,3:!0,4:!0}),s=Object(O.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(1),d=Object(O.a)(l,2),j=d[0],b=d[1],m=Object(We.e)({initialValues:{locationCity:"",locationPoint:"",modelFilter:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",model:"",color:"\u043b\u044e\u0431\u043e\u0439",dateFrom:"",dateTo:"",rate:"day",isFullTank:!1,isNeedChildChair:!1,isRightWheel:!1}});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{}),Object(n.jsxs)("div",{className:"order-page",children:[Object(n.jsx)("div",{className:"order-page__header",children:Object(n.jsx)(u,{})}),Object(n.jsx)("div",{className:"order-page__steps",children:Object(n.jsx)(P,{isFinished:t,step:j,setStep:b,stepDisabled:i,orderId:a})}),Object(n.jsxs)("div",{className:"order",children:[Object(n.jsx)("div",{className:"order__content-container",children:Object(n.jsx)("div",{className:"order__content",children:t?Object(n.jsx)(Be,{}):function(){switch(j){case 1:return Object(n.jsx)(Te,{formik:m});case 2:return Object(n.jsx)(Ie,{formik:m});case 3:return Object(n.jsx)(Ve,{formik:m});case 4:return Object(n.jsx)(qe,{formData:m.values});default:return Object(n.jsx)(Te,{formik:m})}}()})}),Object(n.jsx)("div",{className:"order__status-container",children:Object(n.jsx)("div",{className:"order__status",children:Object(n.jsx)(ze,{isFinished:t,step:j,setStep:b,stepDisabled:i,setStepDisabled:o,formData:m.values})})})]})]})]})})),Je=(a(251),a.p+"static/media/LogoIcon.42a15795.svg"),Ke=(a(252),function(e){var t=e.name,a=e.title,c=e.placeholder,r=e.type;return Object(n.jsxs)("div",{className:"text-field",children:[Object(n.jsx)("div",{className:"login-form__subtitle",children:a}),Object(n.jsx)(We.b,{as:"input",id:t,name:t,className:"login-form__input",placeholder:c,type:r}),Object(n.jsx)("div",{className:"error-message",children:Object(n.jsx)(We.a,{name:t})})]})}),Xe=function(e){var t=e.name,a=e.options;return Object(n.jsx)(We.b,{className:"admin-filter",as:"select",id:t,name:t,children:a.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.key},e.value)}))})},Ye=function(e){var t=e.direction,a=e.items,c=e.onChange,r=e.isChangeable,s=C()("admin-checkbox-input",{"admin-checkbox-input--column":"column"===t});return Object(n.jsx)("div",{className:s,children:a.map((function(e){return Object(n.jsxs)("div",{className:"admin-input__checkbox-item",children:[Object(n.jsx)("input",{className:"admin-checkbox-item__input",type:"checkbox",name:e.value,id:e.value,checked:e.checked,value:e.value,readOnly:!r,onChange:c}),Object(n.jsx)("label",{className:"admin-checkbox-item__label",htmlFor:e.value,children:e.label?e.label:e.value})]},e.value)}))})},$e=function(e){var t=e.name,a=e.title,c=e.placeholder,r=e.type,s=e.onChange,i=e.value;return Object(n.jsxs)("div",{className:"text-field",children:[Object(n.jsx)("div",{className:"login-form__subtitle",children:a}),Object(n.jsx)("input",{id:t,name:t,className:"login-form__input",placeholder:c,type:r,onChange:s,autoComplete:"off",maxLength:"20",value:i}),Object(n.jsx)("div",{className:"error-message",children:Object(n.jsx)("div",{name:t})})]})},Qe=function(e){var t=e.title,a=e.name,c=e.options,r=e.onChange,s=e.value;return Object(n.jsxs)("div",{className:"car-settings-filter",children:[Object(n.jsx)("div",{className:"login-form__subtitle",children:t}),Object(n.jsx)("select",{className:"admin-filter car-settings-category",id:a,name:a,onChange:r,value:s,children:c.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.key},e.value)}))})]})},et=a(13),tt=a.n(et),at="TOGGLE_IS_AUTH_IN_PROGRESS",nt="TOGGLE_IS_AUTH_FAILED",ct={isAuthInProgress:!1,isAuthFailed:!1},rt=function(e){return{type:at,payload:e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(A.a)(Object(A.a)({},e),{},{isAuthInProgress:t.payload});case nt:return Object(A.a)(Object(A.a)({},e),{},{isAuthFailed:t.payload});default:return e}},it=a(78),ot={username:"",password:""},lt=it.a({username:it.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"),password:it.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")}),dt=Object(B.b)((function(e){return{isAuthInProgress:e.auth.isAuthInProgress,isAuthFailed:e.auth.isAuthFailed}}),{logIn:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c,r,s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(rt(!0)),n=btoa("".concat(function(e){return Math.random().toString(32).substr(2,e)}(7),":4cbcea96de")),c=JSON.stringify(e),t.next=7,ee.postLogIn(c,n);case 7:"OK"===(r=t.sent).statusText&&(s=r.data.expires_in/86400,tt.a.set("access_token",r.data.access_token,{expires:s}),tt.a.set("refresh_token",r.data.refresh_token,{expires:s})),a(rt(!1)),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),a(rt(!1)),a({type:nt,payload:!0}),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.logIn,a=e.isAuthInProgress,c=e.isAuthFailed;if(tt.a.get("access_token"))return Object(n.jsx)(o.a,{to:"/admin/orders"});return Object(n.jsx)("div",{className:"login__wrapper",children:Object(n.jsxs)("div",{className:"login",children:[Object(n.jsxs)("div",{className:"login__logo",children:[Object(n.jsx)("img",{src:Je,alt:"Logo",className:"logo__img"}),Object(n.jsx)("h1",{className:"logo__title",children:"Need for drive"})]}),Object(n.jsx)(We.d,{initialValues:ot,validationSchema:lt,onSubmit:function(e){t(e)},children:function(e){return Object(n.jsxs)(We.c,{className:"login-form",children:[Object(n.jsx)("div",{className:"login-form__title",children:"\u0412\u0445\u043e\u0434"}),c&&Object(n.jsx)("span",{className:"error-message",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(n.jsx)(Ke,{name:"username",title:"\u041f\u043e\u0447\u0442\u0430",placeholder:"admin@ss.com",type:"text"}),Object(n.jsx)(Ke,{name:"password",title:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"password",type:"password"}),Object(n.jsxs)("div",{className:"login-form__footer",children:[Object(n.jsx)("div",{className:"login-form__access",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(n.jsx)(b,{type:"submit",additionalStyles:"button__admin",disabled:!e.isValid,isLoading:a,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}})]})})})),ut=(a(351),function(){return Object(n.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3213 4.10853C13.5596 4.34683 13.5596 4.73177 13.3213 4.97007L12.2031 6.08825L9.91174 3.7969L11.0299 2.67873C11.2682 2.44042 11.6532 2.44042 11.8915 2.67873L13.3213 4.10853ZM2.5 13.5V11.2086L9.25795 4.4507L11.5493 6.74205L4.79135 13.5H2.5Z",fill:"#CACEDB"})})}),jt=function(){return Object(n.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 3.5V4.85714H7.83333V3.5H2.5ZM7.83333 7.57142H2.5V6.21428H7.83333V7.57142ZM2.5 10.2857H7.83333V8.92857H2.5V10.2857ZM2.5 13H7.83333V11.6429H2.5V13ZM14.5 3.5H9.16663V13H14.5V3.5Z",fill:"#CACEDB"})})},bt=function(){return Object(n.jsx)("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 1H3.5C2.95 1 2.505 1.45 2.505 2L2.5 10C2.5 10.55 2.945 11 3.495 11H9.5C10.05 11 10.5 10.55 10.5 10V4L7.5 1ZM8.5 8H7V9.5H6V8H4.5V7H6V5.5H7V7H8.5V8ZM7 1.75V4.5H9.75L7 1.75Z",fill:"#CACEDB"})})},mt=function(){return Object(n.jsxs)("div",{className:"admin__nav-bar nav-bar",children:[Object(n.jsxs)("div",{className:"nav-bar__logo nb-logo",children:[Object(n.jsx)("img",{src:Je,alt:"Logo",className:"nb-logo__img"}),Object(n.jsx)("div",{className:"nb-logo__title",children:"Need for drive"})]}),Object(n.jsxs)("div",{className:"nav-bar__menu menu",children:[Object(n.jsxs)(d.c,{to:"/admin/car-card",className:"menu__item",activeClassName:"menu__item--active",children:[Object(n.jsx)("div",{className:"menu__item-icon",children:Object(n.jsx)(ut,{})}),Object(n.jsx)("span",{className:"menu__item-title",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"})]}),Object(n.jsxs)(d.c,{to:"/admin/car-list",className:"menu__item",activeClassName:"menu__item--active",children:[Object(n.jsx)("div",{className:"menu__item-icon",children:Object(n.jsx)(jt,{})}),Object(n.jsx)("span",{className:"menu__item-title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u0432\u0442\u043e"})]}),Object(n.jsxs)(d.c,{to:"/admin/car-category",className:"menu__item",activeClassName:"menu__item--active",children:[Object(n.jsx)("div",{className:"menu__item-icon",children:Object(n.jsx)(jt,{})}),Object(n.jsx)("span",{className:"menu__item-title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0430\u0432\u0442\u043e"})]}),Object(n.jsxs)(d.c,{to:"/admin/orders",className:"menu__item",activeClassName:"menu__item--active",children:[Object(n.jsx)("div",{className:"menu__item-icon",children:Object(n.jsx)(bt,{})}),Object(n.jsx)("span",{className:"menu__item-title",children:"\u0417\u043a\u0430\u0437\u044b"})]})]})]})},ht=(a(352),a.p+"static/media/CoveredCar.1c450e20.png"),Ot=a.p+"static/media/ApproveIcon.01ad4403.svg",pt=a.p+"static/media/RejectIcon.3a77478d.svg",vt=a.p+"static/media/EditIcon.af3e9553.svg",_t=(a(353),a(146)),ft=a.n(_t),xt=function(e){var t=e.itemsCount,a=e.pageSize,c=e.onPageChange,r=e.currentPage,s=Math.ceil(t/a)||1;return Object(n.jsx)(ft.a,{pageCount:s,initialPage:r,onPageChange:c,marginPagesDisplayed:2,pageRangeDisplayed:2,previousLabel:"<<",nextLabel:">>",breakLabel:"...",breakClassName:"paginator__item",breakLinkClassName:"paginator__page-link",containerClassName:"paginator",activeClassName:"paginator__item--active",pageClassName:"paginator__item",pageLinkClassName:"paginator__page-link",previousClassName:"paginator__item",previousLinkClassName:"paginator__item",nextClassName:"paginator__item",nextLinkClassName:"paginator__item"})},gt="TOGGLE_IS_ORDER_FETCHING",Nt="SET_ORDERS_PER_PAGE",Ct="SET_CURRENT_ORDERS_PAGE",yt="SET_ORDERS_COUNT",kt="SET_ORDERS_TOTAL",wt="SET_CARS_TOTAL",St="SET_CITIES_TOTAL",Dt="SET_STATUSES_TOTAL",Tt={statusesTotal:[],citiesTotal:[],carsTotal:[],ordersPerPage:[],ordersPageSize:3,ordersCount:0,currentOrdersPage:0,isOrdersFetching:!1},It=function(e){return{type:gt,payload:e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(A.a)(Object(A.a)({},e),{},{isOrdersFetching:t.payload});case Nt:return Object(A.a)(Object(A.a)({},e),{},{ordersPerPage:t.payload});case Ct:return Object(A.a)(Object(A.a)({},e),{},{currentOrdersPage:t.payload});case yt:return Object(A.a)(Object(A.a)({},e),{},{ordersCount:t.payload});case kt:return Object(A.a)(Object(A.a)({},e),{},{ordersTotal:t.payload});case wt:return Object(A.a)(Object(A.a)({},e),{},{carsTotal:t.payload});case St:return Object(A.a)(Object(A.a)({},e),{},{citiesTotal:t.payload});case Dt:return Object(A.a)(Object(A.a)({},e),{},{statusesTotal:t.payload});default:return e}},Ft=function(e){var t=e.initialValues,a=e.onSubmit,c=e.periodOptions,r=e.modelOptions,s=e.cityOptions,i=e.statusOptions,o=e.clearFilters;return Object(n.jsx)(We.d,{initialValues:t,onSubmit:a,children:Object(n.jsxs)(We.c,{className:"orders__filter",children:[Object(n.jsxs)("div",{className:"orders__filter-items",children:[Object(n.jsxs)("div",{className:"items-container",children:[Object(n.jsx)(Xe,{name:"period",options:c}),Object(n.jsx)(Xe,{name:"model",options:r})]}),Object(n.jsxs)("div",{className:"items-container",children:[Object(n.jsx)(Xe,{name:"city",options:s}),Object(n.jsx)(Xe,{name:"status",options:i})]})]}),Object(n.jsxs)("div",{className:"orders__filter-button",children:[Object(n.jsx)(b,{additionalStyles:"button__admin button__admin--cancel orders__filter-btns",onClick:o,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(n.jsx)(b,{additionalStyles:"button__admin orders__filter-btns",type:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})},Pt=[{key:"\u0417\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f",value:""},{key:"\u0417\u0430 \u0433\u043e\u0434",value:"year"},{key:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",value:"month"},{key:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",value:"week"},{key:"\u0417\u0430 \u0434\u0435\u043d\u044c",value:"day"}],At=[],Lt=[],Mt=[],Rt=Object(B.b)((function(e){return{ordersPerPage:e.ordersTable.ordersPerPage,isOrdersFetching:e.ordersTable.isOrdersFetching,ordersPageSize:e.ordersTable.ordersPageSize,currentOrdersPage:e.ordersTable.currentOrdersPage,ordersCount:e.ordersTable.ordersCount,carsTotal:e.ordersTable.carsTotal,citiesTotal:e.ordersTable.citiesTotal,statusesTotal:e.ordersTable.statusesTotal}}),{requestOrdersPage:function(e,t,a){return function(){var n=Object(J.a)(U.a.mark((function n(c){var r,s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r="".concat(tt.a.get("access_token")),c(It(!0)),n.next=5,ee.getAdminOrders(e,t,r,a);case 5:s=n.sent,c(It(!1)),c((o=s.data.data,{type:Nt,payload:o})),c((i=s.data.count,{type:yt,payload:i})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),c(It(!1)),console.log(n.t0);case 15:case"end":return n.stop()}var i,o}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},setCurrentOrdersPage:function(e){return{type:Ct,payload:e}},requestCarsTotal:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(It(!0)),e.next=4,ee.getCar();case 4:a=e.sent,t(It(!1)),t((n=a.data.data,{type:wt,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},requestCitiesTotal:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(It(!0)),e.next=4,ee.getCity();case 4:a=e.sent,t(It(!1)),t((n=a.data.data,{type:St,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},requestStatusesTotal:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(It(!0)),e.next=4,ee.getOrderStatuses();case 4:a=e.sent,t(It(!1)),t((n=a.data.data,{type:Dt,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},updateOrderData:function(e,t){return function(){var a=Object(J.a)(U.a.mark((function a(n){var c,r,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c="".concat(tt.a.get("access_token")),r=JSON.stringify(e),n(It(!0)),a.next=6,ee.putNewOrderData(r,c,t);case 6:s=a.sent,n(It(!1)),"OK"===s.statusText&&console.log(s),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.ordersPerPage,a=e.isOrdersFetching,r=e.ordersPageSize,s=e.currentOrdersPage,i=e.ordersCount,o=e.carsTotal,l=e.citiesTotal,d=e.statusesTotal,u=e.requestOrdersPage,j=e.setCurrentOrdersPage,h=e.requestCarsTotal,p=e.requestCitiesTotal,v=e.requestStatusesTotal,_=e.updateOrderData,f=Object(c.useState)({period:"",model:"",city:"",status:""}),x=Object(O.a)(f,2),g=x[0],N=x[1];Object(c.useEffect)((function(){u(s,r,g)}),[s,r,u,g]),Object(c.useEffect)((function(){h(),p(),v()}),[h,p,v]),At=[{key:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",value:""}].concat(Object(Ee.a)(Le(o))),Lt=[{key:"\u0412\u0441\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",value:""}].concat(Object(Ee.a)(Le(l))),Mt=[{key:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",value:""}].concat(Object(Ee.a)(Le(d)));return Object(n.jsxs)("div",{className:"admin__orders",children:[Object(n.jsx)("div",{className:"content__title",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(n.jsxs)("div",{className:"content__card orders",children:[Object(n.jsx)("div",{className:"orders__header",children:Object(n.jsx)(Ft,{initialValues:g,onSubmit:function(e){var t=e.period,a=e.model,n=e.city,c=e.status;N({period:t,model:a,city:n,status:c}),j(0)},periodOptions:Pt,modelOptions:At,cityOptions:Lt,statusOptions:Mt,clearFilters:function(){N({period:"",model:"",city:"",status:""}),j(0)}})}),Object(n.jsx)("div",{className:"orders__content",children:a?Object(n.jsx)(M,{admin:!0}):t.length?t.map((function(e){var t,a,c,r;return Object(n.jsxs)("div",{className:"orders__order",children:[Object(n.jsx)("div",{className:"orders__content-container car-info-container",children:Object(n.jsxs)("div",{className:"orders__car-info car-info",children:[Object(n.jsx)("img",{src:e.carId?Fe(e):ht,alt:"Car",className:"car-info__img",crossOrigin:"anonymous",referrerPolicy:"origin"}),Object(n.jsxs)("div",{className:"car-info__desc",children:[Object(n.jsxs)("div",{className:"car-info__desc-item",children:[Object(n.jsx)("span",{className:"car-info__accent",children:(null===(t=e.carId)||void 0===t?void 0:t.name)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"})," ","\u0432",Object(n.jsxs)("span",{className:"car-info__accent",children:[" ",(null===(a=e.cityId)||void 0===a?void 0:a.name)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425",","]}),Object(n.jsxs)("span",{className:"car-info__accent",children:[" ",(null===(c=e.pointId)||void 0===c?void 0:c.address)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"]})]}),Object(n.jsxs)("div",{className:"car-info__desc-item",children:[Ae(e.dateFrom)," -"," ",Ae(e.dateTo)]}),Object(n.jsxs)("div",{className:"car-info__desc-item",children:["\u0426\u0432\u0435\u0442:"," ",Object(n.jsx)("span",{className:"car-info__accent",children:e.color||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"})]})]})]})}),Object(n.jsx)("div",{className:"orders__content-container",children:Object(n.jsx)(Ye,{onChange:function(t){return function(e,t){var a=e.target.value;t[a]=!t[a],_(t,t.id)}(t,e)},direction:"column",items:[{label:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500\u0440",value:"isFullTank",checked:e.isFullTank},{label:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200\u0440",value:"isNeedChildChair",checked:e.isNeedChildChair},{label:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600\u0440",value:"isRightWheel",checked:e.isRightWheel}]})}),Object(n.jsxs)("div",{className:"orders__content-container status-price-container",children:[Object(n.jsx)("div",{className:"order-status",children:(null===(r=e.orderStatusId)||void 0===r?void 0:r.name)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"}),Object(n.jsxs)("div",{className:"order-price",children:[e.price||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"," \u20bd"]})]}),Object(n.jsxs)("div",{className:"orders__content-container",children:[Object(n.jsxs)(b,{additionalStyles:"order__approve order-btn",onClick:function(){return function(e){e.orderStatusId=d[2],_(e,e.id)}(e)},children:[Object(n.jsx)("img",{className:"order-btn__img",src:Ot,alt:"Approve"}),Object(n.jsx)("div",{className:"order-btn__text",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]}),Object(n.jsxs)(b,{additionalStyles:"order__reject order-btn",onClick:function(){return function(e){e.orderStatusId=d[3],_(e,e.id)}(e)},children:[Object(n.jsx)("img",{src:pt,alt:"Reject"}),Object(n.jsx)("div",{className:"order-btn__text",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),Object(n.jsxs)(m,{additionalStyles:"order__edit order-btn",to:"/admin/orders/".concat(e.id),children:[Object(n.jsx)("img",{src:vt,alt:"Edit"}),Object(n.jsx)("div",{className:"order-btn__text",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]},e.id)})):Object(n.jsx)("div",{className:"orders__content-container",children:Object(n.jsx)("div",{className:"no-data-found",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})}),Object(n.jsx)("div",{className:"orders__footer",children:Object(n.jsx)(xt,{currentPage:s,itemsCount:i,pageSize:r,onPageChange:function(e){var t=e.selected;return j(t)}})})]})]})})),Vt=(a(354),a.p+"static/media/Search.49419f76.svg"),Ht=a.p+"static/media/Notifications.25657f73.svg",qt=a.p+"static/media/Avatar.d7f2390b.svg",Gt=a.p+"static/media/DropdownIcon.f0e60619.svg",Zt=function(e){var t=e.setIsTokenValid,a=Object(c.useState)(!1),r=Object(O.a)(a,2),s=r[0],i=r[1];return Object(n.jsxs)("div",{className:"admin-header",children:[Object(n.jsxs)("div",{className:"admin-header__search",children:[Object(n.jsx)("img",{className:"admin-header__search-icon",src:Vt,alt:"search"}),Object(n.jsx)("input",{className:"admin-header__search-input",type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a..."})]}),Object(n.jsxs)("div",{className:"admin-header__notifications notifications",children:[Object(n.jsx)("img",{src:Ht,alt:"Notifications",className:"notifications__icon"}),Object(n.jsx)("div",{className:"notifications__number",children:"2"})]}),Object(n.jsxs)("div",{className:"admin-header__user-details user-details",children:[Object(n.jsx)("img",{src:qt,alt:"Avatar",className:"user-details__img"}),Object(n.jsx)("div",{className:"user-details__name",children:"Admin"}),Object(n.jsx)("button",{onClick:function(){return i(!s)},className:"user-details__dropdown-btn",children:Object(n.jsx)("img",{src:Gt,alt:"Dropdown",className:"user-details__dropdown-icon"})}),s&&Object(n.jsx)("div",{className:"user-details__dropdown",children:Object(n.jsx)("button",{onClick:function(){return tt.a.remove("access_token"),void t(!1)},className:"user-details__dropdown-btn",children:"\u0412\u044b\u0439\u0442\u0438"})})]})]})},zt=(a(355),a(356),function(){return Object(n.jsxs)("div",{className:"admin__footer",children:[Object(n.jsxs)("div",{className:"admin__footer-links",children:[Object(n.jsx)(d.b,{to:"/",className:"admin__footer-link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(n.jsx)("div",{className:"admin__footer-link",children:"\u0421\u0441\u044b\u043b\u043a\u0430"})]}),Object(n.jsx)("div",{className:"admin__footer-copyright",children:"Copyright \xa9 2020 Simbirsoft"})]})}),Bt=(a(357),function(){return Object(n.jsxs)("div",{className:"admin__error error",children:[Object(n.jsx)("div",{className:"error__code",children:"500"}),Object(n.jsx)("div",{className:"error__message",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object(n.jsx)("div",{className:"error__recommendation",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}),Object(n.jsx)(b,{additionalStyles:"button__admin",children:"\u041d\u0430\u0437\u0430\u0434"})]})}),Wt=(a(358),"TOGGLE_IS_CARS_FETCHING"),Ut="SET_CAR_DATA",Jt="SET_CATEGORY_DATA",Kt="SET_NEW_CAR_ID",Xt={isCarsFetching:!1,carData:[],categoryData:[],newCarId:null},Yt=function(e){return{type:Wt,payload:e}},$t=function(e){return{type:Ut,payload:e}},Qt=function(e){return{type:Kt,payload:e}},ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return Object(A.a)(Object(A.a)({},e),{},{isCarsFetching:t.payload});case Ut:return Object(A.a)(Object(A.a)({},e),{},{carData:t.payload});case Jt:return Object(A.a)(Object(A.a)({},e),{},{categoryData:t.payload});case Kt:return Object(A.a)(Object(A.a)({},e),{},{newCarId:t.payload});default:return e}},ta=(a(359),function(e){var t=e.alertData,a=e.alertOnClose,c=t.isVisible,r=t.text;return Object(n.jsxs)("div",{className:"admin-alert",style:{display:"".concat(c?"flex":"none")},children:[Object(n.jsx)("p",{className:"admin-alert__text",children:r}),Object(n.jsx)("button",{className:"admin-alert__close",onClick:a,children:"\u2716"})]})}),aa=[],na=Object(B.b)((function(e){return{carsTotal:e.carSettings.carsTotal,isCarsFetching:e.carSettings.isCarsFetching,carData:e.carSettings.carData,categoryData:e.carSettings.categoryData,newCarId:e.carSettings.newCarId}}),{requestCarData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Yt(!0)),t.next=4,ee.getCarById(e);case 4:n=t.sent,a(Yt(!1)),a($t(n.data.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},requestCategoryData:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Yt(!0)),e.next=4,ee.getCategory();case 4:a=e.sent,t(Yt(!1)),t((n=a.data.data,{type:Jt,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},sendNewCarData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(tt.a.get("access_token")),c=JSON.stringify(e),a(Yt(!0)),t.next=6,ee.postNewCar(c,n);case 6:r=t.sent,a(Yt(!1)),"OK"===r.statusText&&a(Qt(r.data.data.id)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},updateCarData:function(e,t){return function(){var a=Object(J.a)(U.a.mark((function a(n){var c,r,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c="".concat(tt.a.get("access_token")),r=JSON.stringify(e),n(Yt(!0)),a.next=6,ee.putNewCarData(r,c,t);case 6:s=a.sent,n(Yt(!1)),s.statusText,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},deleteCarData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(tt.a.get("access_token")),a(Yt(!0)),t.next=5,ee.deleteCarData(n,e);case 5:c=t.sent,a(Yt(!1)),"OK"===c.statusText&&a(Qt(null)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},clearCarData:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t($t([]))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t,a,r,s,i,l,d,u,j,m=e.carData,h=e.isCarsFetching,p=e.requestCarData,v=e.categoryData,_=e.newCarId,f=e.requestCategoryData,x=e.sendNewCarData,g=e.updateCarData,N=e.deleteCarData,C=e.clearCarData,y=Object(o.h)(),k=Object(o.g)(),w=y.pathname.split("/")[3];aa=[{key:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",value:""}].concat(Object(Ee.a)(Le(v)));var S=Object(c.useState)(""),D=Object(O.a)(S,2),T=D[0],I=D[1],E=Object(c.useState)({priceMax:"",priceMin:"",name:"",thumbnail:ht,description:"",categoryId:{},colors:[],tank:100}),F=Object(O.a)(E,2),P=F[0],L=F[1];Object(c.useEffect)((function(){w&&p(w),w||C()}),[p,w,C]);var R={priceMax:null!==(t=m.priceMax)&&void 0!==t?t:"",priceMin:null!==(a=m.priceMin)&&void 0!==a?a:"",name:null!==(r=m.name)&&void 0!==r?r:"",thumbnail:null!==(s=m.thumbnail)&&void 0!==s?s:ht,description:null!==(i=m.description)&&void 0!==i?i:"",categoryId:null!==(l=m.categoryId)&&void 0!==l?l:{},colors:null!==(d=m.colors)&&void 0!==d?d:[],tank:null!==(u=m.tank)&&void 0!==u?u:100},V={priceMax:!!R.priceMax,priceMin:!!R.priceMin,name:!!R.name,thumbnail:R.thumbnail!==ht,description:!!R.description,categoryId:!!R.categoryId.id,colors:!!R.colors.length};Object(c.useEffect)((function(){L(R),Z(V)}),[m]),Object(c.useEffect)((function(){f()}),[f]);var H=Object(c.useState)(V),q=Object(O.a)(H,2),G=q[0],Z=q[1],z=Object(c.useState)(0),B=Object(O.a)(z,2),W=B[0],U=B[1];Object(c.useEffect)((function(){var e=0,t=Object.values(G);t.forEach((function(a){a&&(e+=100/t.length)})),U(Math.trunc(e))}),[G]),Object(c.useEffect)((function(){_&&k.push("/admin/car-card/".concat(_))}),[_,k]);var J,K=Object(c.useState)({isVisible:!1,text:""}),X=Object(O.a)(K,2),Y=X[0],$=X[1],Q=function(){L(R),Z(V),I("")},ee=function(e){var t=e.target,a=t.name,n=t.value;a.includes("price")?L(Object(A.a)(Object(A.a)({},P),{},Object(Ge.a)({},a,+n))):L(Object(A.a)(Object(A.a)({},P),{},Object(Ge.a)({},a,n))),n&&Z(Object(A.a)(Object(A.a)({},G),{},Object(Ge.a)({},a,!0))),n||Z(Object(A.a)(Object(A.a)({},G),{},Object(Ge.a)({},a,!1)))};return Object(n.jsxs)("div",{className:"admin__car-settings car-settings",children:[Object(n.jsx)(ta,{alertData:Y,alertOnClose:function(){$({isVisible:!1,text:""})}}),Object(n.jsx)("div",{className:"content__title",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(n.jsx)("div",{className:"car-settings__content",children:h?Object(n.jsx)(M,{admin:!0}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"car-settings__car-container car-container",children:[Object(n.jsxs)("div",{className:"car-container__car-details",children:[Object(n.jsx)("img",{src:Me(P.thumbnail),alt:"CarImg",className:"car-container__img",crossOrigin:"anonymous",referrerPolicy:"origin"}),Object(n.jsx)("div",{className:"car-container__title",children:P.name}),Object(n.jsx)("div",{className:"car-container__car-desc",children:null===(j=P.categoryId)||void 0===j?void 0:j.description}),Object(n.jsxs)("label",{className:"car-container__file",children:[Object(n.jsx)("input",{className:"car-container__file-input",type:"file",id:"file",name:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){L(Object(A.a)(Object(A.a)({},P),{},{thumbnail:{originalname:t.name,mimetype:t.type,size:t.size,path:a.result}}))},Z(Object(A.a)(Object(A.a)({},G),{},{thumbnail:!0}))}}),Object(n.jsx)("span",{className:"car-container__file-custom"})]})]}),Object(n.jsxs)("div",{className:"car-container__progress-bar progress-bar",children:[Object(n.jsxs)("div",{className:"progress-bar__desc",children:[Object(n.jsx)("div",{className:"progress-bar__title",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"}),Object(n.jsxs)("span",{className:"progress-bar__progress",children:[W," %"]})]}),Object(n.jsx)("div",{className:"progress-bar__loader",children:Object(n.jsx)("div",{className:"progress-bar__loader-line",style:{opacity:"".concat(W?1:0),width:"".concat(W,"%")}})})]}),Object(n.jsxs)("div",{className:"car-container__desc",children:[Object(n.jsx)("div",{className:"car-container__desc-title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(n.jsx)("textarea",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",maxLength:"200",className:"car-container__desc-text",value:P.description,onChange:ee})]})]}),Object(n.jsx)("div",{className:"car-settings__settings-container settings-container",children:Object(n.jsxs)("div",{className:"settings-container__form",children:[Object(n.jsx)("div",{className:"settings-container__title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"}),Object(n.jsxs)("div",{className:"settings-container__items",children:[Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)($e,{name:"name",title:"\u041c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u043e\u0434\u0435\u043b\u044c",type:"text",value:P.name,onChange:ee})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)($e,{name:"priceMin",title:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443",type:"number",value:P.priceMin,onChange:ee})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)($e,{name:"priceMax",title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443",type:"number",value:P.priceMax,onChange:ee})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)(Qe,{title:"\u0422\u0438\u043f \u0430\u0432\u0442\u043e",name:"categoryId",options:aa,onChange:function(e){var t=e.target.value;L(Object(A.a)(Object(A.a)({},P),{},{categoryId:v.find((function(e){return e.id===t}))})),t&&Z(Object(A.a)(Object(A.a)({},G),{},{categoryId:!0})),t||Z(Object(A.a)(Object(A.a)({},G),{},{categoryId:!1}))}})}),Object(n.jsxs)("div",{className:"settings-container__item",children:[Object(n.jsx)($e,{name:"colors",title:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0432\u0435\u0442",type:"text",value:T,onChange:function(e){return I(e.target.value)}}),Object(n.jsx)("button",{onClick:function(){!P.colors.includes(T.trim())&&T.trim()&&(P.colors.push(T.trim()),L(Object(A.a)(Object(A.a)({},P),{},{colors:P.colors})),Z(Object(A.a)(Object(A.a)({},G),{},{colors:!0})),I(""))},type:"button",className:"settings-container__item-btn"})]})]}),Object(n.jsx)("div",{className:"settings-container__checkboxes",children:Object(n.jsx)(Ye,{onChange:function(e){var t=e.target.value;P.colors.splice(P.colors.indexOf(t),1),L(Object(A.a)(Object(A.a)({},P),{},{colors:P.colors})),P.colors.length||Z(Object(A.a)(Object(A.a)({},G),{},{colors:!1}))},isChangeable:!0,direction:"column",items:(J=P.colors,J.map((function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e,checked:!0}})))})}),Object(n.jsxs)("div",{className:"settings-container__buttons",children:[Object(n.jsxs)("div",{className:"settings-container__buttons-edit",children:[Object(n.jsx)(b,{additionalStyles:"button__admin",disabled:!(100===W),onClick:function(){w||(x(P),$({isVisible:!0,text:"\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"})),w&&(g(P,w),$({isVisible:!0,text:"\u0423\u0441\u043f\u0435\u0445! \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"}))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b,{additionalStyles:"button__admin",disabled:0===W,onClick:Q,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)("div",{className:"settings-container__buttons-delete",children:Object(n.jsx)(b,{additionalStyles:"button__admin button__admin--cancel",disabled:!w,onClick:function(){w&&(N(w),Q(),k.push("/admin/car-card/"),$({isVisible:!0,text:"\u0423\u0441\u043f\u0435\u0445! \u041c\u0430\u0448\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430"}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})})]})})]})})),ca=(a(360),"TOGGLE_IS_FETCHING"),ra="SET_CARS_PER_PAGE",sa="SET_CURRENT_PAGE",ia="SET_CARS_COUNT",oa="SET_CARS_TOTAL",la={carsTotal:[],carsPerPage:[],pageSize:5,carsCount:0,currentPage:0,isFetching:!1},da=function(e){return{type:ca,payload:e}},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ca:return Object(A.a)(Object(A.a)({},e),{},{isFetching:t.payload});case ra:return Object(A.a)(Object(A.a)({},e),{},{carsPerPage:t.payload});case sa:return Object(A.a)(Object(A.a)({},e),{},{currentPage:t.payload});case ia:return Object(A.a)(Object(A.a)({},e),{},{carsCount:t.payload});case oa:return Object(A.a)(Object(A.a)({},e),{},{carsTotal:t.payload});default:return e}},ja=function(e){var t=e.filters,a=e.firstOption,c=e.secondOption,r=e.onSubmit,s=e.clearFilters;return Object(n.jsx)(We.d,{initialValues:t,onSubmit:r,children:Object(n.jsxs)(We.c,{className:"car-list__filter",children:[Object(n.jsxs)("div",{className:"car-list__filter-items",children:[Object(n.jsx)(Xe,{name:"model",options:a}),Object(n.jsx)(Xe,{name:"type",options:c})]}),Object(n.jsxs)("div",{className:"car-list__filter-btns",children:[Object(n.jsx)("div",{className:"car-list__filter-btn",children:Object(n.jsx)(b,{additionalStyles:"button__admin button__admin--cancel",onClick:s,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})}),Object(n.jsx)("div",{className:"car-list__filter-btn",children:Object(n.jsx)(b,{additionalStyles:"button__admin",type:"submit",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})})},ba=[],ma=[],ha=Object(B.b)((function(e){return{carsTotal:e.carsTable.carsTotal,carsPerPage:e.carsTable.carsPerPage,isFetching:e.carsTable.isFetching,pageSize:e.carsTable.pageSize,currentPage:e.carsTable.currentPage,carsCount:e.carsTable.carsCount}}),{requestCarsPage:function(e,t,a){return function(){var n=Object(J.a)(U.a.mark((function n(c){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(da(!0)),n.next=4,ee.getCarsPage(e,t,a);case 4:r=n.sent,c(da(!1)),c((i=r.data.data,{type:ra,payload:i})),c((s=r.data.count,{type:ia,payload:s})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}var s,i}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:sa,payload:e}},requestCarsTotal:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(da(!0)),e.next=4,ee.getCar();case 4:a=e.sent,t(da(!1)),t((n=a.data.data,{type:oa,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t,a=e.carsTotal,r=e.carsPerPage,s=e.isFetching,i=e.pageSize,o=e.currentPage,l=e.carsCount,d=e.requestCarsPage,u=e.setCurrentPage,j=e.requestCarsTotal,b=Object(c.useState)({model:"",type:""}),h=Object(O.a)(b,2),p=h[0],v=h[1];Object(c.useEffect)((function(){d(o,i,p),j()}),[o,i,d,j,p]),ba=[{key:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",value:""}].concat(Object(Ee.a)((t=a,Object(Ee.a)(new Set(t.map((function(e){return e.name.slice(0,e.name.search(/,|\s/))})))).map((function(e){return{key:e,value:e}}))))),ma=[{key:"\u0412\u0441\u0435 \u0442\u0438\u043f\u044b",value:""}].concat(Object(Ee.a)(function(e){return e.map((function(e){return{key:e.categoryId.name,value:e.categoryId.id}})).reduce((function(e,t){return e.find((function(e){return e.value===t.value}))||e.push(t),e}),[])}(a)));return Object(n.jsxs)("div",{className:"admin__car-list car-list",children:[Object(n.jsx)("div",{className:"content__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u0432\u0442\u043e"}),Object(n.jsx)("div",{className:"car-list__content-wrapper",children:Object(n.jsxs)("div",{className:"car-list__content",children:[Object(n.jsx)(ja,{filters:p,firstOption:ba,secondOption:ma,onSubmit:function(e){var t=e.model,a=e.type;v({model:t,type:a}),u(0)},clearFilters:function(){v({model:"",type:""}),u(0)}}),Object(n.jsx)("div",{className:"car-list__table",children:s?Object(n.jsx)(M,{admin:!0}):r.length?Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"\u041c\u043e\u0434\u0435\u043b\u044c"}),Object(n.jsx)("th",{scope:"col",children:"\u0422\u0438\u043f"}),Object(n.jsx)("th",{scope:"col",children:"\u0426\u0435\u043d\u0430"}),Object(n.jsx)("th",{scope:"col",children:"\u0426\u0432\u0435\u0442\u0430"}),Object(n.jsx)("th",{scope:"col",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{"data-label":"\u041c\u043e\u0434\u0435\u043b\u044c",children:e.name}),Object(n.jsx)("td",{"data-label":"\u0422\u0438\u043f",children:e.categoryId.name}),Object(n.jsx)("td",{"data-label":"\u0426\u0435\u043d\u0430",children:"".concat(e.priceMin," - ").concat(e.priceMax," \u20bd")}),Object(n.jsx)("td",{"data-label":"\u0426\u0432\u0435\u0442\u0430",children:(t=e.colors,t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(", "))}),Object(n.jsx)("td",{"data-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:Object(n.jsx)(m,{additionalStyles:"button__admin button__table",to:"/admin/car-card/".concat(e.id),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]},e.id);var t}))})]}):Object(n.jsx)("div",{className:"no-data-found",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),Object(n.jsx)("div",{className:"car-list__footer",children:Object(n.jsx)(xt,{currentPage:o,itemsCount:l,pageSize:i,onPageChange:function(e){var t=e.selected;return u(t)}})})]})})]})})),Oa="TOGGLE_IS_ORDER_FETCHING",pa="SET_ORDER_DATA",va="SET_POINTS_DATA",_a="SET_CITIES_DATA",fa="SET_CARS_DATA",xa={isOrderFetching:!1,orderData:null,pointsData:null,citiesData:null,carsData:[]},ga=function(e){return{type:Oa,payload:e}},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa:return Object(A.a)(Object(A.a)({},e),{},{isOrderFetching:t.payload});case pa:return Object(A.a)(Object(A.a)({},e),{},{orderData:t.payload});case va:return Object(A.a)(Object(A.a)({},e),{},{pointsData:t.payload});case _a:return Object(A.a)(Object(A.a)({},e),{},{citiesData:t.payload});case fa:return Object(A.a)(Object(A.a)({},e),{},{carsData:t.payload});default:return e}},Ca=Object(B.b)((function(e){return{isOrderFetching:e.orderSettings.isOrderFetching,orderData:e.orderSettings.orderData,pointsData:e.orderSettings.pointsData,carsData:e.orderSettings.carsData,citiesData:e.orderSettings.citiesData}}),{requestOrderData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(ga(!0)),t.next=4,ee.getOrder(e);case 4:n=t.sent,a(ga(!1)),a((c=n.data.data,{type:pa,payload:c})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}var c}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},requestCarsData:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ga(!0)),e.next=4,ee.getCar();case 4:a=e.sent,t(ga(!1)),t((n=a.data.data,{type:fa,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},requestCitiesData:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ga(!0)),e.next=4,ee.getCity();case 4:a=e.sent,t(ga(!1)),t((n=a.data.data,{type:_a,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},requestPointsData:function(){return function(){var e=Object(J.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ga(!0)),e.next=4,ee.getPoint();case 4:a=e.sent,t(ga(!1)),t((n=a.data.data,{type:va,payload:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},updateOrderData:function(e,t){return function(){var a=Object(J.a)(U.a.mark((function a(n){var c,r,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c="".concat(tt.a.get("access_token")),r=JSON.stringify(e),n(ga(!0)),a.next=6,ee.putNewOrderData(r,c,t);case 6:s=a.sent,n(ga(!1)),s.statusText,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},deleteOrderData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(tt.a.get("access_token")),a(ga(!0)),t.next=5,ee.deleteOrderData(n,e);case 5:c=t.sent,a(ga(!1)),c.statusText,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,a,r,s=e.isOrderFetching,i=e.orderData,l=e.citiesData,d=e.pointsData,u=e.carsData,j=e.requestOrderData,m=e.requestCarsData,h=e.requestCitiesData,p=e.requestPointsData,v=e.updateOrderData,_=e.deleteOrderData,f=Object(o.h)(),x=Object(o.g)(),g=f.pathname.split("/")[3],N=Object(Ee.a)(Le(u)),C=Object(c.useState)(i),y=Object(O.a)(C,2),k=y[0],w=y[1],S=Object(c.useState)(ht),D=Object(O.a)(S,2),T=D[0],I=D[1],E=Object(c.useState)(!1),F=Object(O.a)(E,2),P=F[0],L=F[1],R=Object(c.useState)(null),V=Object(O.a)(R,2),H=V[0],q=V[1],G=Object(c.useState)(null),Z=Object(O.a)(G,2),z=Z[0],B=Z[1],W=Object(c.useState)(null),U=Object(O.a)(W,2),J=U[0],K=U[1],X=Object(c.useState)(null),Y=Object(O.a)(X,2),$=Y[0],Q=Y[1],ee=Object(c.useState)(null),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(null),re=Object(O.a)(ce,2),se=re[0],ie=re[1],oe=Object(c.useState)(null),le=Object(O.a)(oe,2),de=le[0],ue=le[1];Object(c.useEffect)((function(){j(g),m(),h(),p()}),[j,g,m,h,p]),Object(c.useEffect)((function(){w(i)}),[i]),Object(c.useEffect)((function(){if(k&&u.length&&l&&d){var e,t,a;if(k.carId||(I(ht),q({key:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425",value:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"}),B(["\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"]),K({key:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425",value:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"})),k.carId)I(Fe(k)),q({key:(c=k.carId).name,value:c.id}),B(Re(k.carId.colors.length?k.carId.colors:["\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"])),K(null!==(a=Re(k.carId.colors).find((function(e){return e.value===k.color})))&&void 0!==a?a:{key:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425",value:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"});L(!0),Q(Le(l)),ne(Le(l).find((function(e){return e.value===k.cityId.id})));var n=function(e){return e.map((function(e){return{key:e.address,value:e.id}}))}(d.filter((function(e){return e.cityId.id===Le(l).find((function(e){return e.value===k.cityId.id})).value})));ie(n),ue(null!==(e=null!==(t=n.find((function(e){return e.value===k.pointId.id})))&&void 0!==t?t:n[0])&&void 0!==e?e:{key:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425",value:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"})}var c}),[k,u.length,l,d]);var je=function(){j(g)};return Object(n.jsx)("div",{className:"admin__orders",children:!P||s?Object(n.jsx)(M,{admin:!0}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"content__title",children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",g]}),Object(n.jsx)("div",{className:"small-content-card orders",children:Object(n.jsxs)("div",{className:"orders__content order-settings",children:[Object(n.jsxs)("div",{className:"car-container__car-details",children:[Object(n.jsx)("div",{className:"settings-container__title",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0430\u0432\u0442\u043e"}),Object(n.jsx)("img",{src:T,alt:"CarImg",className:"car-container__img",crossOrigin:"anonymous",referrerPolicy:"origin"}),Object(n.jsx)("div",{className:"car-container__title",children:(null===(t=k.carId)||void 0===t?void 0:t.name)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"}),Object(n.jsx)("div",{className:"car-container__car-desc",children:(null===(a=k.carId)||void 0===a||null===(r=a.categoryId)||void 0===r?void 0:r.description)||"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"})]}),Object(n.jsxs)("div",{className:"settings-container__form order-settings__options",children:[Object(n.jsx)("div",{className:"settings-container__title",children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)(Qe,{title:"\u041c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0442\u043e",name:"categoryId",options:N,value:H.value,onChange:function(e){var t,a=e.target.value;q(N.find((function(e){return e.value===a}))),w(Object(A.a)(Object(A.a)({},k),{},{carId:u.find((function(e){return e.id===a})),color:null!==(t=u.find((function(e){return e.id===a})).colors[0])&&void 0!==t?t:"\u041d\u0415\u0422 \u0414\u0410\u041d\u041d\u042b\u0425"}))}})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)(Qe,{title:"\u0426\u0432\u0435\u0442 \u0430\u0432\u0442\u043e",name:"categoryId",options:z,value:J.value,onChange:function(e){var t=e.target.value;K(z.find((function(e){return e.value===t}))),w(Object(A.a)(Object(A.a)({},k),{},{color:z.find((function(e){return e.value===t})).value}))}})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)(Qe,{title:"\u0413\u043e\u0440\u043e\u0434 \u0432\u044b\u0434\u0430\u0447\u0438",name:"categoryId",options:$,value:ae.value,onChange:function(e){var t=e.target.value;ne($.find((function(e){return e.value===t}))),w(Object(A.a)(Object(A.a)({},k),{},{cityId:l.find((function(e){return e.id===t}))}))}})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)(Qe,{title:"\u0410\u0434\u0440\u0435\u0441 \u0432\u044b\u0434\u0430\u0447\u0438",name:"categoryId",options:se,value:de.value,onChange:function(e){var t=e.target.value,a=d.find((function(e){return e.id===t})),n=Object(A.a)({},a);delete n.cityId,ue(se.find((function(e){return e.value===t}))),w(Object(A.a)(Object(A.a)({},k),{},{pointId:n}))}})}),Object(n.jsxs)("div",{className:"settings-container__buttons",children:[Object(n.jsxs)("div",{className:"settings-container__buttons-edit",children:[Object(n.jsx)(b,{additionalStyles:"button__admin",onClick:function(){v(k,g)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b,{additionalStyles:"button__admin",onClick:je,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)("div",{className:"settings-container__buttons-delete",children:Object(n.jsx)(b,{additionalStyles:"button__admin button__admin--cancel",onClick:function(){_(g),je(),x.push("/admin/orders/")},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})]})})]})})})),ya="TOGGLE_IS_DATA_FETCHING",ka="SET_CATEGORIES_DATA",wa="SET_CATEGORY_DATA",Sa="SET_NEW_CATEGORY_ID",Da={isDataFetching:!1,categoriesData:null,carsCategoryData:null,newCategoryId:null},Ta=function(e){return{type:ya,payload:e}},Ia=function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a(Ta(!0)),!e){t.next=9;break}return t.next=5,ee.getCategory(e);case 5:n=t.sent,a((s=n.data.data,{type:wa,payload:s})),t.next=13;break;case 9:return t.next=11,ee.getCategory();case 11:c=t.sent,a((r=c.data.data,{type:ka,payload:r}));case 13:a(Ta(!1)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}var r,s}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ya:return Object(A.a)(Object(A.a)({},e),{},{isDataFetching:t.payload});case ka:return Object(A.a)(Object(A.a)({},e),{},{categoriesData:t.payload});case wa:return Object(A.a)(Object(A.a)({},e),{},{carsCategoryData:t.payload});case Sa:return Object(A.a)(Object(A.a)({},e),{},{newCategoryId:t.payload});default:return e}},Fa=Object(B.b)((function(e){return{isDataFetching:e.categoryData.isDataFetching,categoriesData:e.categoryData.categoriesData}}),{requestCategoriesData:Ia})((function(e){var t=e.isDataFetching,a=e.categoriesData,r=e.requestCategoriesData,s=Object(c.useState)(a),i=Object(O.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(!1),u=Object(O.a)(d,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){r()}),[r]),Object(c.useEffect)((function(){a&&(l(a),b(!0))}),[a]),Object(n.jsx)("div",{className:"admin__orders",children:!j||t?Object(n.jsx)(M,{admin:!0}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"content__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0430\u0432\u0442\u043e"}),Object(n.jsx)("div",{className:"content__card orders",children:Object(n.jsxs)("div",{className:"orders__content category-settings",children:[Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(n.jsx)("th",{scope:"col",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(n.jsx)("th",{scope:"col",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}),Object(n.jsx)("tbody",{children:o.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{"data-label":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",children:e.name}),Object(n.jsx)("td",{"data-label":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",children:e.description}),Object(n.jsx)("td",{"data-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:Object(n.jsx)(m,{additionalStyles:"button__admin button__table",to:"/admin/car-category/".concat(e.id),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]},e.id)}))})]}),Object(n.jsx)("div",{className:"orders__content-container",children:Object(n.jsx)(m,{additionalStyles:"button__admin button__table",to:"/admin/car-category/".concat("new-category"),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e"})})]})})]})})})),Pa=(a(361),Object(B.b)((function(e){return{isDataFetching:e.categoryData.isDataFetching,carsCategoryData:e.categoryData.carsCategoryData,newCategoryId:e.categoryData.newCategoryId}}),{requestCategoriesData:Ia,updateCategoryData:function(e,t){return function(){var a=Object(J.a)(U.a.mark((function a(n){var c,r,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c="".concat(tt.a.get("access_token")),r=JSON.stringify(e),n(Ta(!0)),a.next=6,ee.putNewCategoryData(r,c,t);case 6:s=a.sent,n(Ta(!1)),s.statusText,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},deleteCategoryData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(tt.a.get("access_token")),a(Ta(!0)),t.next=5,ee.deleteCategoryData(n,e);case 5:c=t.sent,a(Ta(!1)),c.statusText,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},sendNewCategoryData:function(e){return function(){var t=Object(J.a)(U.a.mark((function t(a){var n,c,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(tt.a.get("access_token")),c=JSON.stringify(e),a(Ta(!0)),t.next=6,ee.postNewCategory(c,n);case 6:r=t.sent,a(Ta(!1)),"OK"===r.statusText&&a((s=r.data.data.id,{type:Sa,payload:s})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}var s}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},clearCategoryId:function(){return{type:Sa,payload:null}}})((function(e){var t=e.isDataFetching,a=e.carsCategoryData,r=e.newCategoryId,s=e.requestCategoriesData,i=e.updateCategoryData,l=e.deleteCategoryData,d=e.sendNewCategoryData,u=e.clearCategoryId,j=Object(o.h)(),m=Object(o.g)(),h=j.pathname.split("/")[3],p=Object(c.useState)(a),v=Object(O.a)(p,2),_=v[0],f=v[1],x=Object(c.useState)(!1),g=Object(O.a)(x,2),N=g[0],C=g[1];Object(c.useEffect)((function(){h&&"new-category"!==h&&s(h)}),[s,h]),Object(c.useEffect)((function(){a&&(f(a),C(!0)),"new-category"===h&&(f({description:"",name:""}),C(!0))}),[a,h]),Object(c.useEffect)((function(){r&&m.push("/admin/car-category/".concat(r))}),[r,m]);var y=function(e){var t=e.target,a=t.name,n=t.value;f(Object(A.a)(Object(A.a)({},_),{},Object(Ge.a)({},a,n)))};return Object(n.jsx)("div",{className:"admin__orders",children:!N||t?Object(n.jsx)(M,{admin:!0}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"content__title",children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(n.jsx)("div",{className:"small-content-card orders",children:Object(n.jsxs)("div",{className:"category-settings",children:[Object(n.jsx)("div",{className:"settings-container__title",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)($e,{name:"name",title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",type:"text",value:_.name,onChange:y})}),Object(n.jsx)("div",{className:"settings-container__item",children:Object(n.jsx)($e,{name:"description",title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",value:_.description,onChange:y})}),Object(n.jsxs)("div",{className:"settings-container__buttons",children:[Object(n.jsxs)("div",{className:"settings-container__buttons-edit",children:[Object(n.jsx)(b,{additionalStyles:"button__admin",onClick:function(){h&&"new-category"!==h&&i(_,h),"new-category"===h&&d(_)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(n.jsx)(b,{additionalStyles:"button__admin",onClick:function(){h&&"new-category"!==h&&s(h)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(n.jsx)("div",{className:"settings-container__buttons-delete",children:Object(n.jsx)(b,{additionalStyles:"button__admin button__admin--cancel",onClick:function(){h&&"new-category"!==h&&(l(h),u(),m.push("/admin/car-category/"))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})})]})})}))),Aa=function(){var e=Object(c.useState)(tt.a.get("access_token")),t=Object(O.a)(e,2),a=t[0],r=t[1];return a?Object(n.jsxs)("div",{className:"admin",children:[Object(n.jsx)(mt,{}),Object(n.jsxs)("div",{className:"admin__container",children:[Object(n.jsx)(Zt,{setIsTokenValid:r}),Object(n.jsx)("div",{className:"admin__content content",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/admin/orders",component:Rt}),Object(n.jsx)(o.b,{path:"/admin/orders/:orderId?",component:Ca}),Object(n.jsx)(o.b,{exact:!0,path:"/admin/car-list",component:ha}),Object(n.jsx)(o.b,{exact:!0,path:"/admin/car-card",component:na}),Object(n.jsx)(o.b,{path:"/admin/car-card/:carId?",component:na}),Object(n.jsx)(o.b,{exact:!0,path:"/admin/car-category",component:Fa}),Object(n.jsx)(o.b,{path:"/admin/car-category/:categoryId?",component:Pa}),Object(n.jsx)(o.b,{path:"*",component:Bt})]})}),Object(n.jsx)(zt,{})]})]}):Object(n.jsx)(o.a,{to:"/login"})};var La=function(){return Object(n.jsx)("div",{className:"app-wrapper",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/",component:I}),Object(n.jsx)(o.b,{exact:!0,path:"/order",component:Ue}),Object(n.jsx)(o.b,{path:"/order/finished/:orderId?",render:function(){return Object(n.jsx)(Ue,{isFinished:!0})}}),Object(n.jsx)(o.b,{exact:!0,path:"/login",component:dt}),Object(n.jsx)(o.b,{path:"/admin",component:Aa})]})})},Ma=(a(362),a(147)),Ra=Object(Ze.c)({order:be,auth:st,carsTable:ua,ordersTable:Et,carSettings:ea,orderSettings:Na,categoryData:Ea}),Va=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ze.d,Ha=Object(Ze.e)(Ra,Va(Object(Ze.a)(Ma.a)));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(d.a,{basename:"/carsharing-nfd",children:Object(n.jsx)(B.a,{store:Ha,children:Object(n.jsx)(La,{})})})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.6a4d9559.chunk.js.map